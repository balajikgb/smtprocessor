@using Core.Services;
@using System.Web;
@using Microsoft.AspNetCore.Http;
@using ProcessorWebApp.Resources;
@{
    var environment = ViewContext.RouteData.Values["environment"];
}
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

    <title>@OrderResx.ProcessorTool</title>
    <link rel="stylesheet" href="~/lib/bootstrap/dist/css/bootstrap.min.css" />
    <link href="~/lib/datatables/css/jquery.dataTables.css" rel="stylesheet" />
    <link href="~/lib/datatables/css/dataTables.bootstrap4.css" rel="stylesheet" />
    <link rel="stylesheet" href="~/fonts/icomoon/style.css" />
    <link rel="stylesheet" href="~/css/site.css" />
    <link rel="stylesheet" href="~/css/style.css">
    <link rel="stylesheet" href="~/css/chosen/chosen.min.css" />
    <link rel="stylesheet" href="~/css/choices-min.css">
    <link rel="stylesheet" href="~/css/bootstrap-datepicker.css" type="text/css" />
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" />
    <link rel="stylesheet" href="~/css/toastr.css" />
    <link rel="stylesheet" href="~/css/sidebar.css" />
    <style type="text/css">
        .fa-stack[data-count]:after {
            position: absolute;
            right: 0%;
            top: 1%;
            content: attr(data-count);
            font-size: 40%;
            padding: .6em;
            border-radius: 999px;
            line-height: .75em;
            color: white;
            background: rgba(255,0,0,.85);
            text-align: center;
            min-width: 2em;
            font-weight: bold;
        }

        .bg-dark-tool {
            background-color: #00a8e1 !important;
        }

        .title-card {
            font-size: 25px;
            font-weight: bold;
        }

        .title-card-username {
            font-size: 16px;
        }
    </style>
</head>
<body>
    <div class="pos-f-t">
        <nav class="navbar navbar-dark bg-dark-tool">
            <button class="navbar-toggler" type="button" onclick="return toggleclick(event)" data-toggle="collapse" data-target="#navbarToggleExternalContent" aria-controls="navbarToggleExternalContent" aria-expanded="false" aria-label="Toggle navigation">
                <span class="navbar-toggler-icon"></span>
            </button>
            <div class="col-md-2">
                @if (@Context.Session.GetString("FirstName") != string.Empty)
                {
                    <a href="/" class="homeTitle title-card-username">Welcome <br>@Context.Session.GetString("FirstName")&nbsp;&nbsp;@Context.Session.GetString("LastName")</a>
                }
            </div>
            <div class="col-md-4">
                <a href="/" class="homeTitle title-card">@OrderResx.ProcessorTool</a>
            </div>
            <div class="col-md-1">
                <a style="color:#fff" title="Logout" asp-area="MicrosoftIdentity" asp-controller="Account" asp-action="SignOut"><i class="fa-solid fa-sign-out"></i></a>
            </div>
        </nav>
@*        <div class="site-mobile-menu site-navbar-target" id="toggleheader">
            <div class="site-mobile-menu-header">
                <div class="site-mobile-menu-close mt-3">
                    <span class="icon-close2 js-menu-toggle"></span>
                </div>
            </div>
            <div class="site-mobile-menu-body">*@
                <div class="collapse" id="navbarToggleExternalContent">
                    <div class="bg-dark-tool p-4">
                        @if (Context.Session.GetString("UserName") != "")
                        {
                       @*    <a class="nav-link dropdown-toggle" href="#" id="navbarDropdown" role="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false" style="color:#fff">@OrderResx.Menu</a>
                           <div class="dropdown-menu" aria-labelledby="navbarDropdown">*@
                                @if (Context.Session.GetString("UserRole") == OrderResx.Admin || Context.Session.GetString("UserRole") == OrderResx.Manager)
                                {
                                    <a class="dropdown-item" style="color:black" href="/Processor/Process/@environment">@OrderResx.ProcessTitle</a><br/>
                        <a class="dropdown-item" style="color:black" href="/Processor/ProcessGroup/@environment">@OrderResx.ProcessGroupTitle</a>

                        <br />
                        <a class="dropdown-item" style="color:black" href="/Processor/RunControlPage/@environment">@OrderResx.RunControlPageTitle</a>

                        <br />
                        <a class="dropdown-item" style="color:black" href="/Processor/Servers/@environment">@OrderResx.ServersTitle</a>

                        <br />
                        <a class="dropdown-item" style="color:black" href="/UserManagement/UsersAdmin/@environment">@OrderResx.Users</a>

                        <br />
                                    <a class="dropdown-item" style="color:black" href="/UserManagement/ProcessRequestMonitor/@environment">@OrderResx.ProcessRequestMonitor</a>
                                }
                           @* </div>
*@
                        }
               @*     </div>
                </div>*@
            </div>
        </div>
    </div>
    @RenderBody()
    <script src="~/js/choices-min.js"></script>
    <script src="~/lib/jquery/dist/jquery.min.js"></script>
    <script src="~/js/jquery-3.3.1.min.js"></script>
    <script src="~/lib/jquery-validation/dist/jquery.validate.min.js"></script>
    <script src="~/js/jquery.sticky.js"></script>
    <script src="~/js/main.js"></script>
    <script src="~/lib/datatables/js/jquery.dataTables.js"></script>
    <script src="~/lib/datatables/js/dataTables.bootstrap4.js"></script>
    <script src="~/lib/bootstrap/dist/js/bootstrap.bundle.min.js"></script>
    <script src="~/lib/datatables/js/buttons/dataTables.buttons.min.js"></script>
    <script src="~/lib/datatables/js/buttons/jszip.min.js"></script>
    <script src="~/lib/datatables/js/buttons/pdfmake.min.js"></script>
    <script src="~/lib/datatables/js/buttons/vfs_fonts.js"></script>
    <script src="~/lib/datatables/js/buttons/buttons.html5.min.js"></script>
    <script src="~/lib/datatables/js/buttons/buttons.print.min.js"></script>
    <script src="~/js/site.js" asp-append-version="true"></script>
    <script src="~/js/chosen/chosen.jquery.min.js"></script>
    <script type="text/javascript" src="~/js/editor-min.js"></script>

    <!-- <script src="https://kit.fontawesome.com/62677bec4e.js" crossorigin="anonymous"></script>
    <script src="~/js/62677bec4e.js" ></script>  -->
    <script src="~/js/bootstrap-datepicker.js" type="text/javascript"></script>
    <script type="text/javascript" src="~/js/googlechart.js"></script>
    <script type="text/javascript" src="~/js/toastr.js"></script>
    @await RenderSectionAsync("Scripts", required: false)
    <script type="text/javascript">
        //$('body').addClass('offcanvas-menu');
        //$('body').addClass('active');
        //$('body').on('mouseup', function (e) {
        //    var $this = $(this);
        //    e.preventDefault();
        //    //if ($('body').hasClass('offcanvas-menu') || $('body').hasClass('active')) {
        //    //    $('body').removeClass('offcanvas-menu');
        //    //    $this.removeClass('active');
        //    //    $this.addClass('offcanvas-menu active')
        //    //}
        //    var container = $(".site-mobile-menu");
        //    if (!container.is(e.target) && container.has(e.target).length === 0) {
        //        if ($('body').hasClass('') || $('body').hasClass('active')) {
        //            $('body').removeClass('active');
        //            $this.addClass('offcanvas-menu');
        //        }
        //    }
        //});
        //function toggleclick(e) {
        //    e.preventDefault();
        //    if ($('body').hasClass('offcanvas-menu')) {
        //        $('body').removeClass('offcanvas-menu');
        //        $('body').removeClass('active');
        //    } else {
        //        $('body').addClass('offcanvas-menu');
        //        $('body').addClass('active');
        //    }
        //    $('#navbarDropdown').click();
        //}
        //$('.navbar-toggler').on('click', function (e) {
        //    var $this = $(this);
        //    e.preventDefault();

        //    if ($('body').hasClass('offcanvas-menu') ) {
        //         $('body').removeClass('offcanvas-menu');
        //         $this.removeClass('active');
        //    } else {
        //         $('body').addClass('offcanvas-menu');
        //         $this.addClass('active');
        //    }
        //});
    </script>
</body>
</html>
